So, it's not easy to hack into a computer. (Thankfully!) Modern computer systems have full Security Teams that are constantly working to patch and prevent vulnerabilities.

That's where metasploitable comes in. It's a Virtual Machine that has been purposefully left unpatched, so that people like us can use it to learn cybersecurity! Right now, we need to get the machine running. To let me run Metasploitable directly on my Azure Labs VM, I'll use a Docker Image.
You might be asking why I don't just use a second VM, Metasploitable is an Operating System in it's own right, and can absolutely be run as it's own VM. However, there's a couple issues we would run into if I tried to do that for this project:
1. Network access: I would have to make the two VMs (Ubuntu and Metasploitable) be able to talk to each other without anyone from the external internet being able to hack Metasploitable. Remember, Metasploitable is SUPER vulnerable to being hacked -- and that isn't just by me!
2. Azure limitations: Since i'm hosting my Ubuntu machine in Azure, I would also probably want to run my Metasploitable machines there. Unfortunately, Azure doesn't have any out-of-the-box Metasploitable support, so it would take hours to set up and some fancy software. Not worth it!

<img width="1440" alt="Screen Shot 2023-11-27 at 8 24 26 PM" src="https://github.com/larnelle15/Exploits-/assets/139686202/b9cb52e8-288e-4a1d-b5dc-1a16ecb42be8">

Here is my platfrom where all the "action" is gonna go down! I've already installed metasploitable on my Ubuntu VM and I'm going to access it running the following command:
(docker start -ai metasploitable)
My Ubuntu terminal is now a Metasploitable terminal!
I'm now going to open a 2nd Ubuntu terminal and run lsb_release -a in both terminals and compare the results.

<img width="924" alt="Screen Shot 2023-11-27 at 9 41 25 PM" src="https://github.com/larnelle15/Exploits-/assets/139686202/67b19c64-259f-4bf4-bc3e-533f194366db">

<img width="924" alt="Screen Shot 2023-11-27 at 9 41 25 PM" src="https://github.com/larnelle15/Exploits-/assets/139686202/a33c8f5b-3387-4426-8c6d-192cbf39b0b4">

Next, I'll compare their network address info with the ifconfig command.
For Ubuntu, i'm interested in the docker0 interface (how Ubuntu talks to its docker boxes) and for Docker, i'm interested in the eth0 interface (it's primary "ethernet" connection.)

<img width="1251" alt="Screen Shot 2023-11-27 at 9 45 33 PM" src="https://github.com/larnelle15/Exploits-/assets/139686202/6bccef12-c3a2-4dd9-b509-d74d2db27991">

<img width="1251" alt="Screen Shot 2023-11-27 at 9 45 33 PM" src="https://github.com/larnelle15/Exploits-/assets/139686202/19f22784-dd38-4ebb-b613-f3611adabe09">

From looking at both of these, we can see the inet addr (internet address) fields are 172.17.0.1 (Ubuntu) and 172.17.0.2 (Metasploitable). 
I'll have two terminals, the terminal connected to Ubuntu and the terminal connected to Metasploitable and write down the IP for the metasploitable container incase my values are different.

All right. Now let's perform some reconnaissance. From our Ubuntu box, we can scan the target PC and see if we can find any vulnerabilities to exploit! We'll do this using popular networking tool nmap.

On a Ubuntu terminal, I'll run the command (sudo apt install -y nmap) to install nmap.
Next, we'll perform a basic scan of the target Metasploitable container: (nmap -p0-65535 172.17.0.2)
The (-p0-65535) flag means "scan every port from 0 to 65535" -- all the possible ports.

<img width="663" alt="Screen Shot 2023-11-27 at 9 55 09 PM" src="https://github.com/larnelle15/Exploits-/assets/139686202/5f6e5c7c-7bd2-4adf-89ee-b643044f9691">

Whew! That's a lot of open ports!

Each one of those open ports could be a potential path into the vulnerable system! I'll start with the first port which is port 21.

I'll run nmap again, but this time i'll scan port 21 for vulnerabilities using the command (nmap 172.17.0.2 --script vuln -p 21), this command is being run with the intention of finding a particular vulnerability, the vsftpd backdoor.

<img width="912" alt="Screen Shot 2023-11-27 at 10 03 32 PM" src="https://github.com/larnelle15/Exploits-/assets/139686202/889b4ec3-4fae-48e9-939f-e641545266f9">

In the old days, hackers and penetration testers had to write their exploits manually. This took a lot of scripting, hours, and caffeine. Instead, I'm going to use one of the most powerful penetration testing tools out there: Metasploit. (Yes, that's where the name "Metasploitable" comes from, and yes this is where the project gets more into the details of penetration testing!)

I'm going to run the msfconsole to launch metasploit!

<img width="870" alt="Screen Shot 2023-11-27 at 10 08 25 PM" src="https://github.com/larnelle15/Exploits-/assets/139686202/2d032b55-7d2e-4936-97a7-e9a148f0ccdf">

"I'm in..."

Metasploit has a giant library of different exploits it can run. I want to exploit vsftpd.
I'm going to search for an appropriate exploit by running the search vsftpd command.

<img width="878" alt="Screen Shot 2023-11-27 at 10 14 26 PM" src="https://github.com/larnelle15/Exploits-/assets/139686202/2df47eca-69dc-4a30-b6c7-9913b8895533">

Good news! There's a module and it's got a rank of excellent. (This means it works reliably!)
I'll load the module with use of the exploit/unix/ftp/vsftpd_234_backdoor command.
Notice that my prompt changed to reflect the loaded exploit. I'll now run options to view the available settings for this exploit.

<img width="717" alt="Screen Shot 2023-11-27 at 10 19 26 PM" src="https://github.com/larnelle15/Exploits-/assets/139686202/2580c217-0a47-4ca9-990e-09ddf20684a9">

There are two required options, RHOSTS and RPORT. RPORT has correctly defaulted to 21, but we need to set RHOSTS. I'll assign RHOSTS the IP address for my Metasploitable instance:

<img width="309" alt="Screen Shot 2023-11-27 at 10 24 57 PM" src="https://github.com/larnelle15/Exploits-/assets/139686202/0a07396e-1d82-4dd5-af27-5fe5a00bc5a3">

And... that's it. The set up is done. I'll execute the attack:
I'll run the exploit command and wait

<img width="472" alt="Screen Shot 2023-11-27 at 10 27 43 PM" 
src="https://github.com/larnelle15/Exploits-/assets/139686202/ef9a67b8-0bc5-48c4-8514-a9e10dacad09">

I JUST GAINED ACCESS TO THE METASPLOITABLE MACHINE THROUGH A BACKDOOR!

<img width="351" alt="Screen Shot 2023-11-27 at 10 32 24 PM" src="https://github.com/larnelle15/Exploits-/assets/139686202/2d925255-5f29-4b05-b7e4-31f6c214e565">

Let's test it out:
I'll run the commands from before, (lsb_release -a and ifconfig) and my machine matches the metasploiable machine now. 
If this was a real machine (not a Docker container) I would be able to run scripts, read/copy files, or anything else I can do on a terminal. Consider this computer hacked.

Now that I'm done, I'll type exit to close the terminal and return to Metasploit.

